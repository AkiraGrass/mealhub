[supervisord]
logfile=/var/log/supervisor/supervisord.log
pidfile=/var/run/supervisord.pid
nodaemon=true

[program:php-fpm]
command=/usr/local/sbin/php-fpm -F
autostart=true
autorestart=true
priority=10

[program:nginx]
command=/usr/sbin/nginx -g 'daemon off;'
autostart=true
autorestart=true
priority=20

# Optional: queue worker (uncomment to run in same container)
#[program:queue]
#directory=/var/www/html
#command=php artisan queue:work --sleep=3 --tries=3 --max-time=3600
#autostart=true
#autorestart=true
#priority=30

# Optional: scheduler (uncomment to run in same container)
#[program:scheduler]
#directory=/var/www/html
#command=php artisan schedule:work
#autostart=true
#autorestart=true
#priority=40

